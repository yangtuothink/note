django 知识点


获取model表名字
model_name = obj.queryset.model._meta.model_name

获取app名字
app_label = obj.queryset.model._meta.app_label

from django.utils.safestring import mark_safe
和前端页面 safe 同理 让标签字符串可以正确渲染成标签

valurs 的本质：循环每个字段，生成字典 字段为键，查询的为值，(字典一个键只能有一个值) 因此会有重复数据
	用 .distinctu() 去重


根据字符串取出来每个model字段对象
title_obj = field_obj._meta.get_field("title")
title_max_length = title.max_length  	# 32 	# 可以拿出来字段的属性对应的值
title.rel.to.objects.all() 	# 根据字段对象可取出来映射关联表的所有内容

根据字符串取出来每个forms字段对象
from django.forms.boundfield import BoundField
for bfield in form :
	bfield.field # 每个字段对象
	bfield.field.queryset.model # 每个字段对象关联的表
	bfield.name  # 每个字段名字

return redirect(request.path) 重定向到当前页面

if request.is_ajax()： 判断请求是否是 ajax 

from django.forms.models import mode_to_dict 	将对象转换成字典
dict = mode_to_dict(obj) 

from django.core import serializers
serializers.serializers("json",obj)  	将对象装换成 json 对象


update_or_create 有的话酒更新，没有的话就创建		
UserToken.objects.update_or_create(user=user_obj,defaults={"token":token})	

		  














